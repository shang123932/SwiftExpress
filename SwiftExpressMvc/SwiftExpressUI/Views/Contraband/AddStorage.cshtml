
@{
    ViewBag.Title = "AddStorage";
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title>雨燕速递(YUY)</title>
    <link rel="stylesheet" type="text/css" href="~/static/admin/layui/css/layui.css" />
    <link rel="stylesheet" type="text/css" href="~/static/admin/css/admin.css" />
</head>
<body>
    <div class="wrap-container">
        <form class="layui-form" style="width: 90%;padding-top: 20px;">
            <div class="layui-form-item">
                <label class="layui-form-label">货物编号：</label>
                <div class="layui-input-inline">
                    <input type="text" name="title" id="hw" required lay-verify="required" placeholder="请输入货物编号" autocomplete="off" class="layui-input">
                </div>
            </div>

            <div class="layui-form-item">
                <label class="layui-form-label">仓库编号：</label>
                <div class="layui-input-inline">
                    <select id="ss">
                        <option value=0>请选择仓库编号</option>
                        <option value="1001">1001</option>
                        <option value="1002">1002</option>
                        <option value="1003">1003</option>
                        <option value="1004">1004</option>
                        <option value="1005">1005</option>
                        <option value="1006">1006</option>
                        <option value="1007">1007</option>

                    </select>
                </div>

            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">员工编号：</label>
                <div class="layui-input-inline">
                    <input type="text" name="title" id="yg" required lay-verify="required" placeholder="请输入员工编号" autocomplete="off" class="layui-input">
                </div>

            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">入库时间：</label>
                <div class="layui-input-inline">
                    <input type="text" name="title" id="rk" required lay-verify="required" placeholder="请输入入库时间" autocomplete="off" onclick="WdatePicker()" class="layui-input">
                </div>

            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">入库数量：</label>
                <div class="layui-input-inline">
                    <input type="text" name="title" id="rs" required lay-verify="required" placeholder="请输入入库数量" autocomplete="off" class="layui-input">
                </div>

            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">出库时间：</label>
                <div class="layui-input-inline">
                    <input type="text" name="title" id="cksj" required lay-verify="required" placeholder="请输入出库时间" autocomplete="off" onclick="WdatePicker()" class="layui-input">
                </div>

            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">出库数量：</label>
                <div class="layui-input-inline">
                    <input type="text" name="title" id="cksl" required lay-verify="required" placeholder="请输入出库时间" autocomplete="off" class="layui-input">
                </div>

            </div>
            <div class="layui-form-item layui-form-text">
                <label class="layui-form-label">备注</label>
                <div class="layui-input-inline">
                    <textarea name="desc" id="bz" placeholder="请输入备注" class="layui-textarea"></textarea>
                </div>
            </div>

            <div class="layui-form-item">
                <div class="layui-input-inline">

                    <button class="layui-btn layui-btn-danger layui-btn-radius" type="button" lay-filter="demo1" onclick="Add()">立即提交</button>
                    <button class="layui-btn layui-btn-primary layui-btn-radius" type="button" lay-filter="demo1">取消</button>
                </div>
            </div>
        </form>
    </div>

    <script src="~/static/admin/layui/layui.js" type="text/javascript" charset="utf-8"></script>
    <script>
        //Demo
        layui.use(['form'], function () {
            var form = layui.form();
            form.render();
            //监听提交
            form.on('submit(formDemo)', function (data) {
                layer.msg(JSON.stringify(data.field));
                return false;
            });
        });
    </script>
</body>

</html>
<script src="~/Scripts/jquery-3.3.1.min.js"></script>
<script src="~/Scripts/Scripts/jquery.unobtrusive-ajax.min.js"></script>
<script src="~/Scripts/Scripts/My97DatePicker/My97DatePicker/WdatePicker.js"></script>
<script>
        //$.ajax({
        //    url: "/User/wareHouseBll",
        //    type: "POST",
        //    dataType: "json",          
        //    success: function (res) {
        //        var ops = "";
        //        $(res.Id).each(function () {
        //            var op = "<option value='" + this.WareHouseId + "'>" + this.WareHouseName + "</option>";
        //            ops += op;
        //        })
        //        $("#Select1").append(ops);
        //    }
        //})


    function Add() {
        var hw = $("#hw").val();
        var ck = $("#ss").val();
        var yg = $("#yg").val();
        var rk = $("#rk").val();
        var rs = $("#rs").val();
        var cksj = $("#cksj").val();
        var cksl = $("#cksl").val();
        var bz = $("#bz").val();
        $.ajax({
            url: "/Contraband/AddStorage",
            type: "Post",
            data: {
                CargoId: hw,
                WareHouseId: ck,
                StaffId: yg,
                InStorageTime: rk,
                InStorageNumber: rs,
                OutStorageTime: cksj,
                OutStorageNumber: cksl,
                Remark: bz
            },
            success: function (res) {
                if (res.Status) {
                    alert("保存成功");
                    location.href = "/Contraband/GetStorage";
                }
                else {
                       alert(res.Message);
                }
                
            }
        })
    }

</script>
